//
// Created by Akani Hlungwani
//

////////////////////////////////////////////////////////////////////////////////////////////////////////////

#include "WarPhaseChanger.h"
//#include "Phase1.h"

////////////////////////////////////////////////////////////////////////////////////////////////////////////

using namespace std;

////////////////////////////////////////////////////////////////////////////////////////////////////////////

WarPhaseChanger::WarPhaseChanger()
{
    cout<<"First Phase of the War has started"<<endl;
    War_phase=new Phase1();
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////

WarPhaseChanger::~WarPhaseChanger()
{
    cout<< "Phases do not exist and the War is over" <<endl;
    delete War_phase;
    War_phase=0;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////

void WarPhaseChanger::setStrategy(WarStrategy* Strategy)
{
    if(Strategy!=NULL)
    {
        CountryStrat=Strategy;
    }
    
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////

void WarPhaseChanger::Engage()
{
    CountryStrat->RulesofEngagement();
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////

void WarPhaseChanger::setPhase(PhasesofWar* phase)
{
    if(phase!=NULL)
    {
        cout << "War Phase Changed" << endl;
        delete War_phase;
        War_phase = phase;
    }
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////

void WarPhaseChanger::requestPhase()
{
    War_phase->changePhase(this);
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////

string WarPhaseChanger::getPhase()
{
    return War_phase->getPhase();
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////

string WarPhaseChanger::getStrategy()
{
      return CountryStrat->getName();
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////

bool WarPhaseChanger::Status()
{
    return CountryStrat->getStatus(); 
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////